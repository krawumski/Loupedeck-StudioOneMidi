<?xml version="1.0" encoding="utf-8"?>
<ControlSurface>

	<!-- ******************************************************************************************** -->
	<!-- INCLUDES -->
	<!-- ******************************************************************************************** -->

	<Files>
		<File url="LoupedeckShared.surface.xml"/>
	</Files>

	<!-- ******************************************************************************************** -->
	<!-- CONTROL DEFINITIONS -->
	<!-- ******************************************************************************************** -->

	<Controls>

		<!-- ******************************************************************************************** -->
		<!-- Master Fader -->
		<!-- ******************************************************************************************** -->

		<Control name="masterFader" title="Master Fader"  type="fader" options="transmit receive public">
			<MidiMessage status="#E0" channel="8"/>
		</Control>

		<!-- Virtual master display for editor -->
		<Control name="masterDisplay" type="textdisplay" options="transmit public"/>

		<!-- ******************************************************************************************** -->
		<!-- Buttons + LEDs -->
		<!-- ******************************************************************************************** -->

		<!-- Assignment Buttons -->
		<Control name="trackButton"      type="trigger" options="receive"> <MidiMessage status="#90" address="#28"/> </Control>
		<Control name="sendButton"       type="trigger" options="receive"> <MidiMessage status="#90" address="#29"/> </Control>
		<Control name="panButton"        type="trigger" options="receive"> <MidiMessage status="#90" address="#2A"/> </Control>
		<Control name="user1Button"      type="trigger" options="receive"> <MidiMessage status="#90" address="#2B"/> </Control>
		<Control name="user2Button"      type="trigger" options="receive"> <MidiMessage status="#90" address="#2C"/> </Control>
		<Control name="user3Button"      type="trigger" options="receive"> <MidiMessage status="#90" address="#2D"/> </Control>

		<Control name="trackLED"      options="transmit"> <MidiMessage status="#90" address="#28"/> </Control>
		<Control name="sendLED"       options="transmit"> <MidiMessage status="#90" address="#29"/> </Control>
		<Control name="panLED"        options="transmit"> <MidiMessage status="#90" address="#2A"/> </Control>
		<Control name="user1LED"      options="transmit"> <MidiMessage status="#90" address="#2B"/> </Control>
		<Control name="user2LED"      options="transmit"> <MidiMessage status="#90" address="#2C"/> </Control>
		<Control name="user3LED"      options="transmit"> <MidiMessage status="#90" address="#2D"/> </Control>

		<!-- Fader Banks -->
		<Control name="faderBankLeft"  type="trigger" options="receive"> <MidiMessage status="#90" address="#2E"/> </Control>
		<Control name="faderBankRight" type="trigger" options="receive"> <MidiMessage status="#90" address="#2F"/> </Control>
		<Control name="faderChanLeft"  type="trigger" options="receive"> <MidiMessage status="#90" address="#30"/> </Control>
		<Control name="faderChanRight" type="trigger" options="receive"> <MidiMessage status="#90" address="#31"/> </Control>

		<!-- Flip / Global View-->
		<Control name="flipButton"       type="trigger" options="receive"> <MidiMessage status="#90" address="#32"/> </Control>
		<Control name="globalviewButton" type="trigger" options="receive"> <MidiMessage status="#90" address="#33"/> </Control>
		<Control name="flipLED"       options="transmit"> <MidiMessage status="#90" address="#32"/> </Control>
		<Control name="globalviewLED" options="transmit"> <MidiMessage status="#90" address="#33"/> </Control>

		<!-- Navigation -->
		<Control name="upButton"    type="trigger" options="receive"> <MidiMessage status="#90" address="#34"/> </Control>
		<Control name="downButton"  type="trigger" options="receive"> <MidiMessage status="#90" address="#35"/> </Control>
		<Control name="leftButton"  type="trigger" options="receive"> <MidiMessage status="#90" address="#36"/> </Control>
		<Control name="rightButton" type="trigger" options="receive"> <MidiMessage status="#90" address="#37"/> </Control>

		<Control name="zoomButton"  type="trigger" options="receive"> <MidiMessage status="#90" address="#38"/> </Control>
		<Control name="zoomLED"  options="transmit"> <MidiMessage status="#90" address="#38"/> </Control>

		<!-- Mixer Bank Selectors -->
		<Control name="miditracksButton"      type="trigger" options="receive"> <MidiMessage status="#90" address="#3E"/> </Control>
		<Control name="inputsButton"          type="trigger" options="receive"> <MidiMessage status="#90" address="#3F"/> </Control>
		<Control name="audiotracksButton"     type="trigger" options="receive"> <MidiMessage status="#90" address="#40"/> </Control>
		<Control name="audioinstrumentButton" type="trigger" options="receive"> <MidiMessage status="#90" address="#41"/> </Control>
		<Control name="auxButton"             type="trigger" options="receive"> <MidiMessage status="#90" address="#42"/> </Control>
		<Control name="bussesButton"          type="trigger" options="receive"> <MidiMessage status="#90" address="#43"/> </Control>
		<Control name="outputsButton"         type="trigger" options="receive"> <MidiMessage status="#90" address="#44"/> </Control>
		<Control name="userButton"            type="trigger" options="receive"> <MidiMessage status="#90" address="#45"/> </Control>

		<!-- Modifiers-->
		<Control name="shiftButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#46"/> </Control>
		<Control name="optionButton"  type="trigger" options="receive"> <MidiMessage status="#90" address="#47"/> </Control>
		<Control name="controlButton" type="trigger" options="receive"> <MidiMessage status="#90" address="#48"/> </Control>
		<Control name="cmdaltButton"  type="trigger" options="receive"> <MidiMessage status="#90" address="#49"/> </Control>

		<!-- Automation -->
		<Control name="readoffButton" type="trigger" options="receive"> <MidiMessage status="#90" address="#4A"/> </Control>
		<Control name="writeButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#4B"/> </Control>
		<Control name="trimButton"    type="trigger" options="receive"> <MidiMessage status="#90" address="#4C"/> </Control>
		<Control name="touchButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#4D"/> </Control>
		<Control name="latchButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#4E"/> </Control>
		<Control name="groupButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#4F"/> </Control>

		<Control name="readoffLED" options="transmit"> <MidiMessage status="#90" address="#4A"/> </Control>
		<Control name="writeLED"   options="transmit"> <MidiMessage status="#90" address="#4B"/> </Control>
		<Control name="trimLED"    options="transmit"> <MidiMessage status="#90" address="#4C"/> </Control>
		<Control name="touchLED"   options="transmit"> <MidiMessage status="#90" address="#4D"/> </Control>
		<Control name="latchLED"   options="transmit"> <MidiMessage status="#90" address="#4E"/> </Control>
		<Control name="groupLED"   options="transmit"> <MidiMessage status="#90" address="#4F"/> </Control>

 		<!-- Utilities -->
		<Control name="channelEditorButton" type="trigger" options="receive"> <MidiMessage status="#90" address="#50"/> </Control>
		<Control name="previousPluginButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#51"/> </Control>
		<Control name="nextPluginButton" type="trigger" options="receive"> <MidiMessage status="#90" address="#52"/> </Control>

		<Control name="enterButton"  type="trigger" options="receive"> <MidiMessage status="#90" address="#53"/> </Control>

		<!-- <Control name="saveLED" options="transmit"> <MidiMessage status="#90" address="#50"/> </Control> -->
		<!-- <Control name="undoLED" options="transmit"> <MidiMessage status="#90" address="#51"/> </Control> -->

		<!-- Transport -->
		<Control name="markerButton"  type="trigger" options="receive"> <MidiMessage status="#90" address="#54"/> </Control>
		<Control name="nudgeButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#55"/> </Control>
		<Control name="cycleButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#56"/> </Control>
		<Control name="dropButton"    type="trigger" options="receive"> <MidiMessage status="#90" address="#57"/> </Control>
		<Control name="replaceButton" type="trigger" options="receive"> <MidiMessage status="#90" address="#58"/> </Control>
		<Control name="clickButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#59"/> </Control>
		<Control name="soloButton"    type="trigger" options="receive"> <MidiMessage status="#90" address="#5A"/> </Control>

		<Control name="markerLED"  options="transmit"> <MidiMessage status="#90" address="#54"/> </Control>
		<Control name="nudgeLED"   options="transmit"> <MidiMessage status="#90" address="#55"/> </Control>
		<Control name="cycleLED"   options="transmit"> <MidiMessage status="#90" address="#56"/> </Control>
		<Control name="dropLED"    options="transmit"> <MidiMessage status="#90" address="#57"/> </Control>
		<Control name="replaceLED" options="transmit"> <MidiMessage status="#90" address="#58"/> </Control>
		<Control name="clickLED"   options="transmit"> <MidiMessage status="#90" address="#59"/> </Control>
		<Control name="soloLED"    options="transmit"> <MidiMessage status="#90" address="#5A"/> </Control>

		<Control name="rewindButton" type="trigger" options="receive"> <MidiMessage status="#90" address="#5B"/> </Control>
		<Control name="ffButton"     type="trigger" options="receive"> <MidiMessage status="#90" address="#5C"/> </Control>
		<Control name="stopButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#5D"/> </Control>
		<Control name="playButton"   type="trigger" options="receive"> <MidiMessage status="#90" address="#5E"/> </Control>
		<Control name="recordButton" type="trigger" options="receive"> <MidiMessage status="#90" address="#5F"/> </Control>

		<Control name="rewindLED" options="transmit"> <MidiMessage status="#90" address="#5B"/> </Control>
		<Control name="ffLED"     options="transmit"> <MidiMessage status="#90" address="#5C"/> </Control>
		<Control name="stopLED"   options="transmit"> <MidiMessage status="#90" address="#5D"/> </Control>
		<Control name="playLED"   options="transmit"> <MidiMessage status="#90" address="#5E"/> </Control>
		<Control name="recordLED" options="transmit"> <MidiMessage status="#90" address="#5F"/> </Control>

		<!-- F1 - F12 -->
		<Control name="F1" title="F1"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#60"/> </Control>
		<Control name="F2" title="F2"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#61"/> </Control>
		<Control name="F3" title="F3"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#62"/> </Control>
		<Control name="F4" title="F4"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#63"/> </Control>
		<Control name="F5" title="F5"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#64"/> </Control>
		<Control name="F6" title="F6"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#65"/> </Control>
		<Control name="F7" title="F7"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#66"/> </Control>
		<Control name="F8" title="F8"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#67"/> </Control>
		<Control name="F9" title="F9"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#68"/> </Control>
		<Control name="F10" title="F10"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#69"/> </Control>
		<Control name="F11" title="F11"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#6A"/> </Control>
		<Control name="F12" title="F12"	type="trigger" options="transmit receive public"> <MidiMessage status="#90" address="#6B"/> </Control>

		<Control name="F1Text"  type="textdisplay" options="transmit public"/>
		<Control name="F2Text"  type="textdisplay" options="transmit public"/>
		<Control name="F3Text"  type="textdisplay" options="transmit public"/>
		<Control name="F4Text"  type="textdisplay" options="transmit public"/>
		<Control name="F5Text"  type="textdisplay" options="transmit public"/>
		<Control name="F6Text"  type="textdisplay" options="transmit public"/>
		<Control name="F7Text"  type="textdisplay" options="transmit public"/>
		<Control name="F8Text"  type="textdisplay" options="transmit public"/>
		<Control name="F9Text"  type="textdisplay" options="transmit public"/>
		<Control name="F10Text" type="textdisplay" options="transmit public"/>
		<Control name="F11Text" type="textdisplay" options="transmit public"/>
		<Control name="F12Text" type="textdisplay" options="transmit public"/>

		<!-- ******************************************************************************************** -->
		<!-- Selected Channel Controls -->
		<!-- ******************************************************************************************** -->
		<Control name="recordButtonSelected" type="trigger" options="receive"> <MidiMessage status="#90" address="#06"/> </Control>
		<Control name="soloButtonSelected" type="trigger" options="receive"> <MidiMessage status="#90" address="#0E"/> </Control>
		<Control name="muteButtonSelected" type="trigger" options="receive"> <MidiMessage status="#90" address="#16"/> </Control>
		<Control name="monitorButtonSelected" type="trigger" options="receive"> <MidiMessage status="#90" address="#7E"/> </Control>

		<Control name="recordLEDSelected" options="transmit"> <MidiMessage status="#90" address="#06"/> </Control>
		<Control name="soloLEDSelected" options="transmit"> <MidiMessage status="#90" address="#0E"/> </Control>
		<Control name="muteLEDSelected" options="transmit"> <MidiMessage status="#90" address="#16"/> </Control>
		<Control name="monitorLEDSelected" options="transmit"> <MidiMessage status="#90" address="#7E"/> </Control>

		<Control name="selectedFader" title="Selected Fader" type="fader" options="transmit receive public">
			<MidiMessage status="#E0" channel="9"/>
		</Control>
		<Control name="selectedDisplay" type="textdisplay" options="transmit public"/>

		<Control name="selectedLabelText"  type="textdisplay" options="transmit"/>
		<Control name="selectedValueText"  type="textdisplay" options="transmit"/>

		<!-- ******************************************************************************************** -->
		<!-- Displays -->
		<!-- ******************************************************************************************** -->

		<Control name="timeCode" options="transmit fastupdate"/>
		<Control name="assignmentDisplay" options="transmit"/>

		<!-- ******************************************************************************************** -->
		<!-- Jog/Scrub   + Exteral Control -->
		<!-- ******************************************************************************************** -->

		<Control name="wheel" type="relative" options="receive"> <MidiMessage status="#B0" address="#3C" options="reversed"/> </Control>
		<Control name="externalControl" options="receive"> <MidiMessage status="#B0" address="#2E"/> </Control>

		<Control name="focusDeviceText" type="textdisplay" options="transmit public"/>

		<Control name="commandControlSet" options="receive public"> <MidiMessage status="#B0" address="#00" options="plain"/> </Control>
		<Control name="commandControlTrigger" type="trigger" options="receive"> <MidiMessage status="#90" address="#72"/> </Control>
	</Controls>

	<!-- ******************************************************************************************** -->
	<!-- SURFACE MAPPINGS -->
	<!-- ******************************************************************************************** -->

	<Mappings>

		<!-- ******************************************************************************************** -->
		<!-- Defines -->
		<!-- ******************************************************************************************** -->

		<!-- Channel assignment modes, keep in sync with LoupedeckCT.js -->
		<define name="$MODE_TRACK"    value="0"/>
		<define name="$MODE_SEND"     value="1"/>
		<define name="$MODE_PAN"      value="2"/>
		<define name="$MODE_USER1"    value="3"/>
		<define name="$MODE_USER2"    value="4"/>
		<define name="$MODE_USER3"    value="5"/>
		<define name="$MODE_PANFOCUS" value="6"/>

		<!-- Mixer banks, keep in sync with script kLoupedeckCtMixerBanks. -->
		<define name="$BANK_ALL"          value="0"/>
		<define name="$BANK_AUDIO_INPUT"  value="1"/>
		<define name="$BANK_AUDIO_TRACK"  value="2"/>
		<define name="$BANK_AUDIO_SYNTH"  value="3"/>
		<define name="$BANK_AUDIO_FX"     value="4"/> <!-- aux -->
		<define name="$BANK_AUDIO_BUS"    value="5"/>
		<define name="$BANK_AUDIO_OUTPUT" value="6"/>
		<define name="$BANK_AUDIO_VCA"    value="7"/>
		<define name="$BANK_USER"         value="8"/>

		<!-- ******************************************************************************************** -->
		<!-- GENERIC MAPPING (used for "on the fly" control assignment) -->
		<!-- ******************************************************************************************** -->

		<GenericMapping>
			<Bank>
				<include template="PlugControlMapping"/>

				<Strip name="masterFader">
					<Value control="masterFader" param="value" options="above"/>
					<String control="masterDisplay" param="value" options="above"/>
				</Strip>

				<foreach variable="$fi" start="1" count="12">
					<Strip name= "F$fi">
					<Toggle control= "F$fi" param="value" options="above"/>
					<using controller="Editor/F$fi">
						<String control="F$fiText" param="title"/>
					</using>
					</Strip>
				</foreach>
			</Bank>
		</GenericMapping>

		<!-- ******************************************************************************************** -->
		<!-- GLOBAL MAPPING -->
		<!-- ******************************************************************************************** -->

		<Global>

			<!-- **************************************************************************************** -->
			<!-- Command Mapping -->
			<!-- **************************************************************************************** -->

			<Command control="instrumentButton" command.category="Console" command.name="Show Instrument Editor"/>
			<Command control="channelEditorButton" command.category="Console" command.name="Show Channel Editor"/>
			<Command control="previousPluginButton" command.category="Navigation" command.name="Page Up Skip"/>
			<Command control="nextPluginButton" command.category="Navigation" command.name="Page Down Skip"/>

			<Command control="F1" command.category="Console"   	command.name="Show Inputs"/>
			<Command control="F2" command.category="Console"   	command.name="Show Track"/>
			<Command control="F3" command.category="View"      	command.name="Console"/>
			<Command control="F4" command.category="Console"   	command.name="Open Channel"/>
			<Command control="F5" command.category="Console"   	command.name="Add Insert"/>
			<Command control="F6" command.category="Console"   	command.name="Add Send"/>
			<Command control="F7" command.category="Console"   	command.name="Show Channel Editor"/>
			<Command control="F8" command.category="View"   	command.name="Toggle Floating Windows"/>

			<Variant control="zoomButton" options="lock" statusled="zoomLED">
				<!-- [Zoom] not pressed -->
				<Group>
					<Command control="upButton"    command.category="Navigation" command.name="Up" options="autorepeat"/>
					<Command control="downButton"  command.category="Navigation" command.name="Down" options="autorepeat"/>
					<Command control="leftButton"  command.category="Navigation" command.name="Left" options="autorepeat"/>
					<Command control="rightButton" command.category="Navigation" command.name="Right" options="autorepeat"/>
				</Group>
				<!-- [Zoom] pressed -->
				<Group>
					<Command control="upButton"    command.category="Zoom" command.name="Zoom Out Vertical"/>
					<Command control="downButton"  command.category="Zoom" command.name="Zoom In Vertical"/>
					<Command control="leftButton"  command.category="Zoom" command.name="Zoom Out"/>
					<Command control="rightButton" command.category="Zoom" command.name="Zoom In"/>
				</Group>
			</Variant>

			<!-- <Command control="commandControlTrigger"  command.category="Console" command.name="Show Inputs"/> -->

			<PlainValue control="commandControlSet" param="commandControlValue"/>
			<ParamVariant param="commandControlValue" strict="true">
				<Group value= "0"> <Command control="commandControlTrigger"  command.category="View"    command.name="Console"/> </Group>
				<Group value= "1"> <Command control="commandControlTrigger"  command.category="View"    command.name="Browser"/> </Group>
				<Group value= "2"> <Command control="commandControlTrigger"  command.category="View"    command.name="Editor"/> </Group>
				<Group value= "3"> <Command control="commandControlTrigger"  command.category="View"    command.name="Fullscreen"/> </Group>
				<Group value= "4"> <Command control="commandControlTrigger"  command.category="View"    command.name="Inspector"/> </Group>
				<Group value= "5"> <Command control="commandControlTrigger"  command.category="View"    command.name="Record Panel"/> </Group>
				<Group value= "6"> <Command control="commandControlTrigger"  command.category="View"    command.name="Track List"/> </Group>
				<Group value= "7"> <Command control="commandControlTrigger"  command.category="View"    command.name="Previous Perspective"/> </Group>
				<Group value= "8"> <Command control="commandControlTrigger"  command.category="View"    command.name="Next Perspective"/> </Group>
				<Group value= "9"> <Command control="commandControlTrigger"  command.category="View"    command.name="Show Groups (Channel List)"/> </Group>
				<Group value="10"> <Command control="commandControlTrigger"  command.category="View"    command.name="Toggle Floating Windows"/> </Group>
				<Group value="11"> <Command control="commandControlTrigger"  command.category="Console" command.name="Show Inputs"/> </Group>
				<Group value="12"> <Command control="commandControlTrigger"  command.category="Console" command.name="Show Track"/> </Group>
				<Group value="13"> <Command control="commandControlTrigger"  command.category="Console" command.name="Show Channel Editor"/> </Group>
				<Group value="14"> <Command control="commandControlTrigger"  command.category="Console" command.name="Show Instrument Editor"/> </Group>
				<Group value="15"> <Command control="commandControlTrigger"  command.category="Console" command.name="Open Channel"/> </Group>
				<Group value="16"> <Command control="commandControlTrigger"  command.category="Console" command.name="Add Insert"/> </Group>
				<Group value="17"> <Command control="commandControlTrigger"  command.category="Console" command.name="Add Send"/> </Group>
				<Group value="18"> <Command control="commandControlTrigger"  command.category="Console" command.name="Add Bus Channel"/> </Group>
				<Group value="19"> <Command control="commandControlTrigger"  command.category="Console" command.name="Add FX Channel"/> </Group>
				<Group value="20"> <Command control="commandControlTrigger"  command.category="Console" command.name="Global Mute"/> </Group>
				<Group value="21"> <Command control="commandControlTrigger"  command.category="Console" command.name="Global Solo"/> </Group>
				<Group value="22"> <Command control="commandControlTrigger"  command.category="Console" command.name="Next Channel"/> </Group>
				<Group value="23"> <Command control="commandControlTrigger"  command.category="Console" command.name="Previous Channel"/> </Group>
				<Group value="24"> <Command control="commandControlTrigger"  command.category="Group"   command.name="Suspend Group"/> </Group>
				<Group value="25"> <Command control="commandControlTrigger"  command.category="Group"   command.name="Suspend All Groups"/> </Group>
				<Group value="26"> <Command control="commandControlTrigger"  command.category="Group"   command.name="Suspend Group 1"/> </Group>
				<Group value="27"> <Command control="commandControlTrigger"  command.category="Group"   command.name="Suspend Group 2"/> </Group>
				<Group value="28"> <Command control="commandControlTrigger"  command.category="Group"   command.name="Suspend Group 3"/> </Group>
				<Group value="29"> <Command control="commandControlTrigger"  command.category="Group"   command.name="Suspend Group 4"/> </Group>
				<Group value="30"> <Command control="commandControlTrigger"  command.category="Group"   command.name="Suspend Group 5"/> </Group>
				<Group value="31"> <Command control="commandControlTrigger"  command.category="Group"   command.name="Suspend Group 6"/> </Group>
				<Group value="32"> <Command control="commandControlTrigger"  command.category="Group"   command.name="Suspend Group 7"/> </Group>
				<Group value="33"> <Command control="commandControlTrigger"  command.category="Group"   command.name="Suspend Group 8"/> </Group>
			</ParamVariant>

			<!-- <Variant control="shiftButton"> -->
				<!-- [Shift] not pressed -->
				<!-- <Group> -->
					<!-- <Command control="undoButton" command.category="Edit" command.name="Undo"/> -->
					<!-- <Command control="saveButton" command.category="File" command.name="Save"/> -->
				<!-- </Group> -->
				<!-- [Shift] pressed -->
				<!-- <Group> -->
					<!-- <Command control="undoButton" command.category="Edit" command.name="Redo"/> -->
					<!-- <Command control="saveButton" command.category="File" command.name="Save As"/> -->
				<!-- </Group> -->
			<!-- </Variant> -->

			<!-- <Command control="enterButton"  command.category="Navigation" command.name="Enter"/> -->
			<!-- <Command control="cancelButton" command.category="Navigation" command.name="Cancel"/> -->

			<!-- **************************************************************************************** -->
			<!-- Script interaction -->
			<!-- **************************************************************************************** -->

			<String control="assignmentDisplay" param="assignString"/>

			<!-- kTrackMode -->
			<Radio control="trackButton" param="assignMode" value="$MODE_TRACK"/>
			<Radio control="trackLED" param="assignMode" value="$MODE_TRACK"/>

			<!-- kSendMode -->
			<Push control="sendButton" param="sendMode"/>
			<Radio control="sendLED" param="assignMode" value="$MODE_SEND"/>

			<!-- kPanMode, kPanFocusMode -->
			<Value control="panLED" param="panModeLED"/>
			<Invoke control="panButton" onReceive="onPanButtonPressed"/>

			<!-- kUser1Mode, kUser2Mode, kUser3Mode -->
			<Radio control="user1Button" param="assignMode" value="$MODE_USER1"/>
			<Radio control="user1LED" param="assignMode" value="$MODE_USER1"/>
			<Radio control="user2Button" param="assignMode" value="$MODE_USER2"/>
			<Radio control="user2LED" param="assignMode" value="$MODE_USER2"/>
			<Radio control="user3Button" param="assignMode" value="$MODE_USER3"/>
			<Radio control="user3LED" param="assignMode" value="$MODE_USER3"/>

			<!-- kFXMode -->
			<Radio control="eqButton" param="assignMode" value="$MODE_FX"/>
			<Radio control="eqLED" param="assignMode" value="$MODE_FX"/>

			<Toggle control="flipButton" param="flipMode"/>
			<Value control="flipLED" param="flipMode"/>

			<Radio control="globalviewButton" param="bankList" value="$BANK_ALL"/>
			<Radio control="globalviewLED" param="bankList" value="$BANK_ALL"/>
			<Radio control="inputsButton" param="bankList" value="$BANK_AUDIO_INPUT"/>
			<Radio control="audiotracksButton" param="bankList" value="$BANK_AUDIO_TRACK"/>
			<Radio control="audioinstrumentButton" param="bankList" value="$BANK_AUDIO_SYNTH"/>
			<Radio control="auxButton" param="bankList" value="$BANK_AUDIO_FX"/>
			<Radio control="bussesButton" param="bankList" value="$BANK_AUDIO_BUS"/>
			<Radio control="outputsButton" param="bankList" value="$BANK_AUDIO_OUTPUT"/>
			<Radio control="miditracksButton" param="bankList" value="$BANK_AUDIO_VCA"/>
			<Radio control="userButton" param="bankList" value="$BANK_USER"/>

			<using device="Editor">
				<String control="focusDeviceText" param="focusDeviceName"/>
			</using>

			<include template="ChannelStripAliasMapping"/>
		</Global>

		<!-- ******************************************************************************************** -->
		<!-- MIXER MAPPING -->
		<!-- ******************************************************************************************** -->

		<DeviceMapping device="MixerConsole" name="MixerMapping">
			<!-- 6 Channel Strips -->
			<PlacementBank target="RemoteBank" pagesize="6" name="ChannelBankElement">

				<include template="AllChannelStrips"/>

				<!-- Bank Scroll Buttons -->

				<Variant control="optionButton">
					<!-- [option] not pressed -->
					<Group>
						<ScrollButton control="faderChanLeft"  direction="stepleft"/>
						<ScrollButton control="faderChanRight" direction="stepright"/>
						<ScrollButton control="faderBankLeft"  direction="pageleft"/>
						<ScrollButton control="faderBankRight" direction="pageright"/>
					</Group>
					<!-- [option] pressed -->
					<Group>
						<Command control="faderChanLeft"  command.category="Presets" command.name="Previous"/>
						<Command control="faderChanRight" command.category="Presets" command.name="Next"/>
						<Command control="faderBankLeft"  command.category="Devices" command.name="Previous Device in Rack"/>
						<Command control="faderBankRight" command.category="Devices" command.name="Next Device in Rack"/>
					</Group>
				</Variant>

			</PlacementBank>

			<!-- Selected channel -->
			<ScrollBank target="FollowBank" pagesize="1" name="FocusBankElement">
				<Strip onConnect="onConnectFocusChannel">

					<include template="FocusChannelInsertsAndSends"/>

					<!-- Automation Mode -->
					<!--
					<Radio control="trimButton"   param="automationMode" value="5" options="toggle"/>
					<Radio control="trimLED"      param="automationMode" value="5"/>
					-->
					<Radio control="readoffButton" param="automationMode" value="1" options="toggle"/>
					<Radio control="readoffLED"    param="automationMode" value="1"/>

					<Radio control="touchButton"   param="automationMode" value="2" options="toggle"/>
					<Radio control="touchLED"      param="automationMode" value="2"/>

					<Radio control="latchButton"   param="automationMode" value="3" options="toggle"/>
					<Radio control="latchLED"      param="automationMode" value="3"/>

					<Radio control="writeButton"   param="automationMode" value="4" options="toggle"/>
					<Radio control="writeLED"      param="automationMode" value="4"/>

					<!-- Selected Console Channel -->
					<Toggle control="recordButtonSelected" param="recordArmed"/>
					<Value control="recordLEDSelected" param="recordArmed"/>

					<Toggle control="soloButtonSelected" param="solo" options="momentary"/>
					<Value control="soloLEDSelected" param="solo"/>

					<Toggle control="muteButtonSelected" param="mute" options="momentary"/>
					<Value control="muteLEDSelected" param="mute"/>

					<Toggle control="monitorButtonSelected" param="monitor"/>
					<Value control="monitorLEDSelected" param="monitor"/>

					<Value control="selectedFader" param="volume"/>
					<String control="selectedDisplay" param="volume"/>

					<String control="selectedLabelText" param="label"/>
					<String control="selectedValueText" param="volume"/>

				</Strip>
			</ScrollBank>

			<!-- Master Strip -->
			<Bank target="MasterBank" name="MasterBankElement">
				<Strip>
					<Value control="masterFader" param="volume"/>
					<String control="masterDisplay" param="volume"/>
					<Value control="externalControl" param="volume"/>
				</Strip>
			</Bank>

			<Toggle control="soloButton"  param="anySolo"/>
			<Value  control="soloLED"     param="anySolo"/>
		</DeviceMapping>

		<!-- ******************************************************************************************** -->
		<!-- TRANSPORT MAPPING -->
		<!-- ******************************************************************************************** -->

		<DeviceMapping device="TransportPanel">
			<Segmented control="timeCode" param="primaryTime"/>

			<Relative control="wheel" param="freeCursorTime"/>

			<!-- <Toggle control="cycleButton" param="loop"/> -->
			<Command control="cycleButton" command.category="Transport" command.name="Toggle Loop"/>
			<Value control="cycleLED"     param="loop"/>

			<!-- <Toggle control="dropButton"  param="punch"/> -->
			<Command control="dropButton" command.category="Transport" command.name="Autopunch"/>
			<Value  control="dropLED"     param="punch"/>

			<!-- <Toggle control="playButton"  param="start"/> -->
			<Command control="playButton" command.category="Transport" command.name="Start"/>
			<Value control="playLED"      param="start"/>

			<!-- <Toggle control="stopButton"  param="stop"/> -->
			<Command control="stopButton" command.category="Transport" command.name="Stop"/>
			<Value control="stopLED"      param="stop"/>

			<Value control="recordLED"    param="record"/>
			<Value control="ffLED"        param="fastForward"/>
			<Value control="rewindLED"    param="rewind"/>

			<Variant control="markerButton" options="lock" statusled="markerLED">
				<!-- [marker] not on-->
				<Group>

					<Touch control="ffButton"      param="fastForward"/>
					<Touch control="rewindButton"  param="rewind"/>
					<Toggle control="recordButton" param="record"/>

				</Group>

				<!-- [marker]  on -->
				<Group>

					<Command control="recordButton" command.category="Marker" command.name="Insert"/>
					<Command control="rewindButton" command.category="Marker" command.name="Goto Previous Marker"/>
					<Command control="ffButton"     command.category="Marker" command.name="Goto Next Marker"/>

				</Group>
			</Variant>

		</DeviceMapping>

		<!-- ******************************************************************************************** -->
		<!-- METRONOME MAPPING -->
		<!-- ******************************************************************************************** -->

		<DeviceMapping device="Metronome">
			<Toggle control="clickButton" param="clickOn"/>
			<Value control="clickLED" param="clickOn"/>
		</DeviceMapping>

	</Mappings>

</ControlSurface>
